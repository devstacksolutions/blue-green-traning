<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head>
        <meta charset="utf-8">
        <title></title>
        <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css">
        <style>
.carousel-control-next:focus, .carousel-control-next:hover, .carousel-control-prev:focus, .carousel-control-prev:hover,.carousel-control-next, .carousel-control-prev,.carousel-caption{
  color:#000;
}
</style>
    </head>
    <body>
        <main role="main">
  <div id="carousel" class="carousel" data-ride="carousel">
    <div class="carousel-inner">
      <div class="carousel-item active">
        <canvas id="pdf-canvas" class="d-block w-100" data-file="sample.pdf"></canvas>
        <div class="carousel-caption d-none d-md-block">
          <span>Page: <span id="page-num"></span> / <span id="page-count"></span></span>
        </div>
      </div>
    </div>
    <a class="carousel-control-prev" href="#" role="button" data-slide="prev">
      <i class="fas fa-chevron-left fa-2x"></i>
    <span class="sr-only">Previous</span>
  </a>
    <a class="carousel-control-next" href="#" role="button" data-slide="next">
      <i class="fas fa-chevron-right fa-2x"></i>
    <span class="sr-only">Next</span>
  </a>
</div>
</main>
<script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
<script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.0.550/pdf.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.0.550/pdf.worker.min.js"></script>
<script type="text/javascript">
	
$(function() {
  let pdfDoc = null,
      pageNum = 1,
      pageRendering = false,
      pageNumPending = null;

  const scale = 5.0,
        canvas = document.getElementById('pdf-canvas'),
        pnum = document.getElementById('page-num')
        ctx = canvas.getContext('2d');

  /**
   * Get page info from document, resize canvas accordingly, and render page.
   * @param num Page number.
   */
  function renderPage(num) {
    pageRendering = true;
    
    // Using promise to fetch the page
    pdfDoc.getPage(num).then(function(page) {
      const page_viewport = page.getViewport(scale);
      canvas.height = page_viewport.height;
      canvas.width = page_viewport.width;

      // Render PDF page into canvas context
      const renderContext = {
        canvasContext: ctx,
        viewport: page_viewport
      };
      const renderTask = page.render(renderContext);

      // Wait for rendering to finish
      renderTask.promise.then(function() {
        pageRendering = false;
        if (pageNumPending !== null) {
          // New page rendering is pending
          renderPage(pageNumPending);
          pageNumPending = null;
        }
      });
    });

    // Update page counters
    $(pnum).text(num);
  }

  /**
   * If another page rendering in progress, waits until the rendering is
   * finised. Otherwise, executes rendering immediately.
   */
  function queueRenderPage(num) {
    if (pageRendering) {
      pageNumPending = num;
    } else {
      renderPage(num);
    }
  }

  /**
   * Displays previous page.
   */
  $(".carousel-control-prev").click(function() {
    if (pageNum > 1) {
      pageNum--;
      queueRenderPage(pageNum);
    }
  });

  /**
   * Displays next page.
   */
  $(".carousel-control-next").click(function() {
    if (pageNum < pdfDoc.numPages) {
      pageNum++;
      queueRenderPage(pageNum);
    }
  });

  /**
   * Asynchronously downloads PDF.
   */
  (function() {
    const url = $(canvas).data("file");
    pdfjsLib.getDocument(url).then(function(pdfDoc_) {
      pdfDoc = pdfDoc_;
      $("#page-count").text(pdfDoc.numPages);

      // Initial/first page rendering
      renderPage(pageNum);
    });
  })();
});

</script>
    </body>
</html>